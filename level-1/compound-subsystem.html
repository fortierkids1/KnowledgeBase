<!DOCTYPE html> <html><head>
		<title>Compound Subsystem</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="CodeTest - Compound Subsystem">
		<meta property="og:title" content="Compound Subsystem">
		<meta property="og:description" content="CodeTest - Compound Subsystem">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://stormbots.github.io/KnowledgeBase/level-1/compound-subsystem.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="CodeTest">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://stormbots.github.io/KnowledgeBase/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="lib/scripts/pixi.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Compound Subsystem"><p dir="auto">Compound Subsystem</p></h1><div class="el-p"><p dir="auto">A compound subsystem is one that has multiple, interlinked mechanisms. Many common systems as <a data-tooltip-position="top" aria-label="SuperStructure Intake" data-href="SuperStructure Intake" href="level-1/superstructure-intake.html" class="internal-link" target="_self" rel="noopener nofollow">Intakes</a> or <a data-tooltip-position="top" aria-label="Superstructure Shooter" data-href="Superstructure Shooter" href="level-2/superstructure-shooter.html" class="internal-link" target="_self" rel="noopener nofollow">Shooters</a> fall into this, as do complex kinematic systems like extendable <a data-tooltip-position="top" aria-label="SuperStructure Arm" data-href="SuperStructure Arm" href="level-1/superstructure-arm.html" class="internal-link" target="_self" rel="noopener nofollow">Arms</a>, or Arms riding <a data-tooltip-position="top" aria-label="SuperStructure Elevator" data-href="SuperStructure Elevator" href="level-1/superstructure-elevator.html" class="internal-link" target="_self" rel="noopener nofollow">Elevators</a> form a compound subsystem.</p></div><div class="el-p"><p dir="auto">These systems have common quirks in how they interact with <a data-tooltip-position="top" aria-label="Commands" data-href="Commands" href="level-1/commands.html" class="internal-link" target="_self" rel="noopener nofollow">Commands</a> and <a data-tooltip-position="top" aria-label="Subsystems" data-href="Subsystems" href="misc/subsystems.html" class="internal-link" target="_self" rel="noopener nofollow">Subsystem</a> control flow.</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="Subsystem Requires and Commands" dir="auto" class="heading" id="Subsystem_Requires_and_Commands"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Subsystem Requires and Commands</h2><div class="heading-children"><div class="el-p"><p dir="auto">Generally, you do not want to bundle two or more actuators together into the same subsystem; Inevitably, you will need a Command that tries to <code>require()</code> one, but forcibly require the second. </p></div><div class="el-p"><p dir="auto">This makes some command sequences awkward, since you need to require and control an actuator you don't care about. Alternatively, streamlining the system to automatically control just one or the other means extending the subsystem with multiple state tracking, as you can't rely on <code>defaultCommands()</code> which won't be active.</p></div><div class="el-p"><p dir="auto">Combining multiple actuators in one system also can lead you to cases that block code re-use. Having simple commands that control "half" the system cannot be run in parallel without obscure, poorly documented command modifiers or forcibly removing the command mutexes. </p></div><div class="el-p"><p dir="auto">Lastly, you need to name and manage commands to interact with both actuators, making the subsystem large and complicated.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Wrapper Classes" dir="auto" class="heading" id="Wrapper_Classes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Wrapper Classes</h2><div class="heading-children"><div class="el-p"><p dir="auto">A better structure is to simply break them into two subsystems, giving them the minimal controls needed to act independently. </p></div><div class="el-p"><p dir="auto">You can then use a separate container class to house utility functions, or combined Command classes that interact with both systems.</p></div><div class="el-p"><p dir="auto">Note, the wrapper class will not be a subsystem itself: WPILib does not support "requires" through nested subsystems.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Handling Default Commands" dir="auto" class="heading" id="Handling_Default_Commands"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Handling Default Commands</h2><div class="heading-children"><div class="el-p"><p dir="auto">DefaultCommands by their nature must require themselves, and can <em>only</em> require themselves; This means it's not possible to have a "default" for two subsystems. </p></div><div class="el-p"><p dir="auto">In some cases, you may be able to simply leave each individual part with a default command. </p></div><div class="el-p"><p dir="auto">However, if you wish to have them default as a group, you can emulate the "default command" behavior through the use of a Trigger, and detection of the currently commanded state of any controlled systems. </p></div><div class="el-p"><span style="display: block; margin-block-start: var(--p-spacing); margin-block-end: var(--p-spacing);"><span alt="Trigger" src="Triggers#Playing nice with other commands" class="internal-embed markdown-embed inline-embed is-loaded" data-type="heading"><div class="embed-title markdown-embed-title"></div><div class="markdown-embed-content node-insert-event"><div class="markdown-preview-view markdown-rendered node-insert-event show-indentation-guide allow-fold-headings allow-fold-lists show-properties"><div class="markdown-preview-sizer markdown-preview-section" style="padding-bottom: 0px; min-height: 1325px;"><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="mod-header mod-ui"><div class="metadata-container is-collapsed" tabindex="-1" data-property-count="0"><div class="metadata-error-container" style="display: none;"></div><div class="metadata-properties-heading is-collapsed" tabindex="0"><div class="collapse-indicator collapse-icon is-collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="metadata-properties-title">Properties</div></div><div class="metadata-content" style="display: none;"><div class="metadata-properties"></div><div class="metadata-add-button text-icon-button" tabindex="0"><span class="text-button-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-plus"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg></span><span class="text-button-label">Add property</span></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="Playing nice with other commands" dir="auto" class="heading" id="Playing_nice_with_other_commands"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>Playing nice with other commands</h4><div class="heading-children"><div class="el-p"><p dir="auto">Scheduling some actions based on sensors might wind up interfering with other ongoing robot tasks. Remember, they're <em>exactly</em> like a driver hitting a button!</p></div><div class="el-p"><p dir="auto">For example, if you automatically "grab" a loaded game piece, like this: </p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntakeSubsystem</span> <span class="token keyword">extends</span> <span class="token class-name">SubsystemBase</span><span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">IntakeSubsystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">new</span> <span class="token class-name">Trigger</span><span class="token punctuation">(</span>isGamePieceLoaded<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onTrue</span><span class="token punctuation">(</span><span class="token function">holdGamePiece</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token class-name">Command</span> <span class="token function">holdGamePiece</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span>motor<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">and then try to run a sequence like this:</p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RobotContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">Command</span> <span class="token function">fancyGrabGamepiece</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SequentialCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			elevator<span class="token punctuation">.</span><span class="token function">goToBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			intake<span class="token punctuation">.</span><span class="token function">intake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//&lt;-- This causes your trigger to run! </span>
			<span class="token comment">//Command will get cancelled here</span>
			elevator<span class="token punctuation">.</span><span class="token function">goToScoringPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//won't run</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">You will be annoyed by the unexpected behavior. Worse, if there's a sensor glitch, you might cancel scoring operations too! Instead of getting points, you just suck the game piece back in. </p></div><div class="el-p"><p dir="auto">In cases where such conflicts might come up, you can detect if a Command requires the subystem, by adding some conditions to the trigger, preventing unexpected launches during other actions. </p></div><div class="el-pre"><div class="hk-codeblock hk-codeblock-show-linenos hk-codeblock-show-language hk-codeblock-show-copybtn"><pre class="language-java"><div class="hk-codeblock-language">java</div><div class="hk-codeblock-linenos show-splitter">1<br>2<br>3</div><code data-line="0" class="hk-codeblock-code language-java is-loaded">	<span class="token comment">//Check to see if *any* command is scheduled.</span>
	<span class="token keyword">new</span> <span class="token class-name">Trigger</span><span class="token punctuation">(</span>isGamePieceLoaded<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCurrentCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//Null returned if no command running</span>
	<span class="token punctuation">.</span><span class="token function">onTrue</span><span class="token punctuation">(</span><span class="token function">holdGamePiece</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//Check to see if the current command is "default"</span>
	<span class="token comment">// We probably don't mind interrupting the default.</span>
	<span class="token keyword">new</span> <span class="token class-name">Trigger</span><span class="token punctuation">(</span>isGamePieceLoaded<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCurrentCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDefaultCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">onTrue</span><span class="token punctuation">(</span><span class="token function">holdGamePiece</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//Note, if you have no defaultCommand getDefaultCommand() will </span>
	<span class="token comment">//return null!</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div><div class="el-p"><p dir="auto">These methods allow your trigger to intentionally set its own priority below other commands that might be interacting with the system. </p></div><div></div></div></div></div></div></div><div class="markdown-embed-content node-insert-event" style="display: none;"></div><div class="markdown-embed-link" aria-label="Open link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg></div></span></span></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Handling dependent kinematics" dir="auto" class="heading" id="Handling_dependent_kinematics"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Handling dependent kinematics</h2><div class="heading-children"><div class="el-p"><p dir="auto">If your systems should be operating with dependent kinematics or logic for decision making, you can do this a couple ways:</p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token comment">// Via Dependency injection of state functions</span>
<span class="token class-name">BottomSystem</span> bottom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BottomSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">TopSystem</span> top <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TopSystem</span><span class="token punctuation">(</span>bottomsystem<span class="token operator">::</span><span class="token function">getPosition</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">This allows a clear distinction of systems, while still permitting TopSystem to access details it may need to see on the bottom.</p></div><div class="el-p"><p dir="auto">This interaction is pretty ineffective things such as two-way collision conflicts. For such cases, you likely want to use a <a data-tooltip-position="top" aria-label="State Machines" data-href="State Machines" href="level-1/state-machines.html" class="internal-link" target="_self" rel="noopener nofollow">State Machine</a> to control motion.</p></div><div class="el-p"><p dir="auto">While not recommended, you <em>can</em> bind cross-dependencies between two systems. However, this cyclic connection should clue you to the need to <a data-tooltip-position="top" aria-label="Refactoring" data-href="Refactoring" href="misc/refactoring.html" class="internal-link" target="_self" rel="noopener nofollow">Refactor</a> some of your code interactions. </p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token comment">//Construct the subsystem </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BottomSystem</span> <span class="token keyword">extends</span> <span class="token class-name">SubsystemBase</span><span class="token punctuation">{</span>
	<span class="token comment">// Leaving this blank will likely result in runtime errors, </span>
	<span class="token comment">// so initialize it with an appropriate Supplier function</span>
	<span class="token class-name">DoubleSupplier</span> topPosition <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token number">0</span> <span class="token punctuation">;</span>
	
	<span class="token comment">//Create a function to register it</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addTopPositionSupplier</span><span class="token punctuation">(</span><span class="token class-name">DoubleSupplier</span> supplier<span class="token punctuation">)</span><span class="token punctuation">{</span>
		topPosition<span class="token operator">=</span>supplier<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RobotContainer</span><span class="token punctuation">{</span>
	<span class="token comment">// Create the appropriate systems</span>
	<span class="token class-name">BottomSystem</span> bottom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BottomSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">TopSystem</span> top <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TopSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">RobotContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		bottom<span class="token punctuation">.</span><span class="token function">addTopPositionSupplier</span><span class="token punctuation">(</span>top<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		top<span class="token punctuation">.</span><span class="token function">addBottomPositionSupplier</span><span class="token punctuation">(</span>bottom<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Handling &quot;twinned&quot; subsystems" dir="auto" class="heading" id="Handling_&quot;twinned&quot;_subsystems"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Handling "twinned" subsystems</h2><div class="heading-children"><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="tip" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-flame"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path></svg></div><div class="callout-title-inner">New Process!</div></div><div class="callout-content">
<p dir="auto">This subsystem type tends to be rare, and as such we do not implement this often to fully validate best practices. Feedback on the documentation and trial methods for optimal layout is requested!</p>
</div></div></div><div class="el-p"><p dir="auto">Sometimes, your robot will have a subsystem that is two "identical" parts that are not kinetically linked. In these cases, the subsystem split can be quirky, and they tend to provide different tradeoffs</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Handling each half as it's own subsystem with independent code generates a lot of copy-pasted code, repeated bugfixes, and increased maintenance overhead. </li>
<li data-line="1" dir="auto">Bundling both in the same subsystem can result in duplicate code to drive the separate motors,  especially if they each run independent, non-trivial logic like <a data-tooltip-position="top" aria-label="Motion Profiles" data-href="Motion Profiles" href="level-2/motion-profiles.html" class="internal-link" target="_self" rel="noopener nofollow">Motion Profiles</a> </li>
<li data-line="2" dir="auto">Providing a "base class" and then creating two instances: This simplifies control logic and reduces code duplication, but pushes all a fair amount of configuration and combined logic to higher-level code structures (such as RobotContainer . </li>
</ul></div><div class="el-p"><p dir="auto">However, in general the final option is often worth it to prevent errors and streamline debugging. With proper naming, abstraction, and parameterize, these systems can be handled without significant overhead. </p></div><div class="el-h4 heading-wrapper"><h4 data-heading="Construct the base actuator class" dir="auto" class="heading" id="Construct_the_base_actuator_class"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Construct the base actuator class</h4><div class="heading-children"><div class="el-p"><p dir="auto">While there's a few ways we could structure this <em>in general</em> we want to keep subsystem logic<br>
contained in it's own file for easy tracking, viewing, and modification. Since we expect twinned systems to have few difference, this structure provides a simple way to easily manage the adjustments.</p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token comment">//This forms our the base class both ExampleTwin systems will use </span>
<span class="token keyword">class</span> <span class="token class-name">ExampleTwinBase</span> <span class="token keyword">extends</span> <span class="token class-name">SubsystemBase</span><span class="token punctuation">{</span>
	<span class="token comment">//Private to prevent unexpected creation anywhere</span>
	<span class="token keyword">private</span> <span class="token class-name">ExampleTwinBase</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> invert<span class="token punctuation">,</span> <span class="token keyword">double</span> switchChannel<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">//Configure the motor using the provided parameters</span>
		<span class="token comment">// making sure to use the parameters as appropriate.</span>
		<span class="token comment">// In this example, </span>
		<span class="token comment">// using "invert" for motor direction, </span>
		<span class="token comment">// and switchChannel for a rio DIO port for something</span>
		<span class="token comment">// but provide the necessary ones in whatever form makes sense.</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BuildExampleLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">var</span> inverted<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//</span>
		<span class="token keyword">var</span> channel<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//example </span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ExampleTwinBase</span><span class="token punctuation">(</span>inverted<span class="token punctuation">,</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BuildExampleRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">var</span> inverted<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//</span>
		<span class="token keyword">var</span> channel<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//example </span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ExampleTwinBase</span><span class="token punctuation">(</span>inverted<span class="token punctuation">,</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//Do the rest of your normal, non-static instance classes here.</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RobotContainer</span><span class="token punctuation">{</span>
	<span class="token comment">//We can now build the two seperately, using the static functions</span>
	<span class="token comment">// to handle the difference in configuration</span>
	<span class="token class-name">ExampleTwinBase</span> exampleLeft<span class="token operator">=</span><span class="token class-name">ExampleTwinBase<span class="token punctuation">.</span>BuildExampleLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">ExampleTwinBase</span> exampleRight<span class="token operator">=</span><span class="token class-name">ExampleTwinBase<span class="token punctuation">.</span>BuildExampleRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Rev's Config api has a useful feature that allows you to combine configs; This facilitates splitting logic, and even allows you to provide a Spark config as a parameter directly.</p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token keyword">public</span> <span class="token class-name">ExampleRevParam</span><span class="token punctuation">(</span><span class="token class-name">SparkBaseConfig</span> customConfig<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token class-name">SparkBaseConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SparkMaxConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	config<span class="token punctuation">.</span><span class="token comment">/*whatever your configs that apply in both cases*/</span>

	config<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>customConfig<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Copy the special configs to the base config</span>

	<span class="token comment">//Apply your config normally, getting everything at once</span>
	motor<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>
		config<span class="token punctuation">,</span>
		<span class="token class-name">ResetMode</span><span class="token punctuation">.</span>kResetSafeParameters<span class="token punctuation">,</span> 
		<span class="token class-name">PersistMode</span><span class="token punctuation">.</span>kNoPersistParameters
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">We now have two subsystems.... which is not exactly optimal for clean Command setup. However, a simple wrapper class will help us out!</p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token keyword">public</span> <span class="token class-name">Example</span><span class="token punctuation">{</span> <span class="token comment">//NOTE: Not a subsystem! Just a generic class</span>
	<span class="token class-name">ExampleTwinBase</span> left<span class="token punctuation">;</span>
	<span class="token class-name">ExampleTwinBase</span> right<span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token class-name">ExampleSubsystem</span><span class="token punctuation">(</span><span class="token class-name">ExampleTwinBase</span> left<span class="token punctuation">,</span> <span class="token class-name">ExampleTwinBase</span> right<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token operator">=</span>left<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token operator">=</span>right<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//Now, we can use *this* to house all our combo commands nice and cleanly!</span>
	<span class="token comment">// Parallel runs both at once, and each end independently if configured.</span>
	<span class="token comment">// When both are done, the parallel ends. </span>
	<span class="token keyword">public</span> <span class="token class-name">Command</span> <span class="token function">doTheThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		returns <span class="token class-name">Commands</span><span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span>
			left<span class="token punctuation">.</span><span class="token function">doTheThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			right<span class="token punctuation">.</span><span class="token function">doTheThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RobotContainer</span><span class="token punctuation">{</span>
	<span class="token comment">//We can now build the two seperately, using the static functions</span>
	<span class="token comment">// to handle the difference in configuration</span>
	<span class="token class-name">ExampleTwinBase</span> exampleLeft<span class="token operator">=</span><span class="token class-name">ExampleTwinBase<span class="token punctuation">.</span>BuildExampleLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">ExampleTwinBase</span> exampleRight<span class="token operator">=</span><span class="token class-name">ExampleTwinBase<span class="token punctuation">.</span>BuildExampleRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Example</span> example <span class="token operator">=</span> <span class="token class-name">Example</span><span class="token punctuation">(</span>exampleLeft<span class="token punctuation">,</span>exampleRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><span class="inline-callout" data-inline-callout="flame" style="color: rgba(var(--color-cyan-rgb), 1); background-color: rgba(var(--color-cyan-rgb), var(--inline-callout-bg-transparency));"><span class="inline-callout-icon" data-tooltip-position="top" aria-label="flame"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-flame"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path></svg></span><span class="inline-callout-label">Cleanup Note</span></span> We <em>could</em> also just move the whole Builder calls directly in the wrapper, or directly into the Example file itself! Depending on the goals, this may or may not be ideal. Sometimes having access to each side is nice, so consider leaving yourself an easy option should the need arise.</p></div><div class="el-pre"><pre class="language-java"><code data-line="0" class="language-java is-loaded"><span class="token comment">//Example of the streamlined, cleaned up code. The individual sides are now not accessable without going through our wrapper.</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RobotContainer</span><span class="token punctuation">{</span>
	<span class="token class-name">Example</span> example <span class="token operator">=</span> <span class="token class-name">Example</span><span class="token punctuation">(</span>
		<span class="token class-name">ExampleTwinBase<span class="token punctuation">.</span>BuildExampleLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token class-name">ExampleTwinBase<span class="token punctuation">.</span>BuildExampleRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="level-1/compound-subsystem.html#Compound Subsystem"><div class="tree-item-contents heading-link" heading-name="Compound Subsystem"><span class="tree-item-title">Compound Subsystem</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="level-1/compound-subsystem.html#Subsystem_Requires_and_Commands"><div class="tree-item-contents heading-link" heading-name="Subsystem Requires and Commands"><span class="tree-item-title">Subsystem Requires and Commands</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="level-1/compound-subsystem.html#Wrapper_Classes"><div class="tree-item-contents heading-link" heading-name="Wrapper Classes"><span class="tree-item-title">Wrapper Classes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="level-1/compound-subsystem.html#Handling_Default_Commands"><div class="tree-item-contents heading-link" heading-name="Handling Default Commands"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Handling Default Commands</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="10"><a class="tree-link" href="level-1/compound-subsystem.html#Playing_nice_with_other_commands"><div class="tree-item-contents heading-link" heading-name="Playing nice with other commands"><span class="tree-item-title">Playing nice with other commands</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="level-1/compound-subsystem.html#Handling_dependent_kinematics"><div class="tree-item-contents heading-link" heading-name="Handling dependent kinematics"><span class="tree-item-title">Handling dependent kinematics</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="level-1/compound-subsystem.html#Handling_&quot;twinned&quot;_subsystems"><div class="tree-item-contents heading-link" heading-name="Handling &quot;twinned&quot; subsystems"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Handling "twinned" subsystems</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="level-1/compound-subsystem.html#Construct_the_base_actuator_class"><div class="tree-item-contents heading-link" heading-name="Construct the base actuator class"><span class="tree-item-title">Construct the base actuator class</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>